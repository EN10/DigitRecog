<canvas id='c' width='20' height='20' style='border:1px solid black;'></canvas>
<p id='link'>double click to generate image link</p>
<script>
var c = document.getElementById('c');
window.ondblclick = save
window.onmousemove = draw

function draw(e){
var rect = document.getElementById('c').getBoundingClientRect();
c.getContext('2d').fillRect(e.x - rect.left,e.y - rect.top,1,1)
}

function save(){
var data = encodeURI(c.toDataURL()); // otherwise special chars are lost
document.getElementById("link").innerHTML = '<a href='
+ 'https://mnist-en10.c9users.io/?q=' + data
+ '>click to send image</a>'
}
</script>